<ion-view view-title="Check Out" padding="true" ng-controller="PatientCheckoutCtrl">
  <ion-content>
    <form name="paymentForm">
      <div class="list list-inset">
        <div class="item item-divider">
          Personal Info
        </div>
        <label class="item item-input">
          <i class="icon ion-person placeholder-icon"></i>
          <input
            type="text"
            placeholder="First Name"
            ng-model="personalInfo.firstName"
            name="firstName"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.firstName.$error.required">* First Name is required</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-person placeholder-icon"></i>
          <input
            type="text"
            placeholder="Last Name"
            ng-model="personalInfo.lastName"
            name="lastName"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.lastName.$error.required">* Last Name is required</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-android-phone-portrait placeholder-icon"></i>
          <input
            type="text"
            placeholder="Phone"
            ng-model="personalInfo.lastName"
            name="phone"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.phone.$error.required">* Phone is required</li>
        </ul>
        <div class="item item-divider">
          Address Info
        </div>
        <label class="item item-input">
          <button class="button button-clear button-positive" ng-click="showCountriesPopup();"><i class="icon ion-flag placeholder-icon"></i> {{selectCountryLabel}}</button>
          &nbsp;<span class="flag-icon flag-icon-{{selectedCountry.code | lowercase}}"></span>&nbsp;{{selectedCountry.name}}
        </label>
        <label class="item item-input">
          <i class="icon ion-home placeholder-icon"></i>
          <input
            type="text"
            placeholder="County"
            ng-model="addressInfo.county"
            name="county">
        </label>
        <label class="item item-input">
          <i class="icon ion-outlet placeholder-icon"></i>
          <input
            type="text"
            placeholder="City / Town"
            ng-model="addressInfo.cityTown"
            name="cityTown"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.cityTown.$error.required">* City / Town is required</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-paper-airplane placeholder-icon"></i>
          <input
            type="text"
            placeholder="Post Code"
            ng-model="addressInfo.postCode"
            name="postCode"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.postCode.$error.required">* Post Code is required</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-home placeholder-icon"></i>
          <input
            type="text"
            placeholder="Address"
            ng-model="addressInfo.address"
            name="address"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.address.$error.required">* Address is required</li>
        </ul>
        <div class="item item-divider">
          Card Info
        </div>
        <label class="item item-input">
          <i class="icon ion-person placeholder-icon"></i>
          <input
            type="text"
            placeholder="Card Owner"
            ng-model="ccInfo.cardOwner"
            name="cardOwner"
            required>
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.cardOwner.$error.required">* Card Owner is required</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-card placeholder-icon"></i>
          <input type="text"
                 placeholder="Card Number"
                 name="creditCard"
                 ng-model="ccInfo.number"
                 required
                 data-credit-card-type
                 data-ng-pattern="/^[0-9]+$/"
                 data-ng-minlength="15"
                 maxlength="19">
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.creditCard.$error.required">* Credit Card is required</li>
          <li ng-show="paymentForm.creditCard.$error.invalid">* Credit Card must be a valid Visa or Master Card</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-lock-combination placeholder-icon"></i>
          <input type="text"
                 name="securityCode"
                 ng-model="ccInfo.securityCode"
                 placeholder="CCV"
                 required
                 data-ng-pattern="/^[0-9]+$/"
                 data-ng-minlength="3"
                 maxlength="4">
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.securityCode.$error.required">* Security Code is required</li>
          <li ng-show="paymentForm.securityCode.$error.pattern">* Security Code must contain only numbers</li>
          <li ng-show="paymentForm.securityCode.$error.minlength">* Security Code must be 3-4 digits</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-calendar placeholder-icon"></i>
          <input
            type="text"
            placeholder="Expiration Month"
            ng-model="ccInfo.month"
            name="month"
            required
            data-ng-pattern="/^[0-9]+$/"
            data-ng-minlength="1"
            maxlength="2">
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.month.$error.required">* Expiration Month is required</li>
        </ul>
        <label class="item item-input">
          <i class="icon ion-calendar placeholder-icon"></i>
          <input
            type="text"
            placeholder="Expiration Year"
            ng-model="ccInfo.year"
            name="year"
            required
            data-ng-pattern="/^[0-9]+$/"
            data-ng-minlength="4"
            maxlength="4">
        </label>
        <ul ng-show="!paymentForm.$valid">
          <li ng-show="paymentForm.year.$error.required">* Expiration Month is required</li>
        </ul>
      </div>

      <div class="row">
        <div class="col col-100">
          <button type="submit" class="button button-full">
            PAY {{subtotal}}&pound;
          </button>
        </div>
      </div>
    </form>

  </ion-content>
</ion-view>
